---
interface Props {
  action?: string;
  successMessage?: string;
  privacyNote: string;
}
const { action = '/thank-you', successMessage = 'Merci, votre message a bien été envoyé.', privacyNote } = Astro.props as Props;
/* Netlify Forms: ajouter data-netlify="true" et name="contact" */
---

<form class="space-y-4" method="POST" action={action} name="contact" data-netlify="true" netlify-honeypot="bot-field">
  <input type="hidden" name="form-name" value="contact" />
  <p class="hidden">
    <label>Ne pas remplir : <input name="bot-field" /></label>
  </p>

  <div>
    <label for="name" class="block text-sm mb-1">Nom *</label>
    <input id="name" name="name" required autocomplete="name" class="w-full rounded-lg bg-white/5 border border-white/10 px-3 py-2" />
  </div>

  <div class="grid md:grid-cols-2 gap-4">
    <div>
      <label for="email" class="block text-sm mb-1">Email *</label>
      <input id="email" type="email" name="email" required autocomplete="email" class="w-full rounded-lg bg-white/5 border border-white/10 px-3 py-2" />
    </div>
    <div>
      <label for="phone" class="block text-sm mb-1">Téléphone (optionnel)</label>
      <input id="phone" type="tel" name="phone" autocomplete="tel" class="w-full rounded-lg bg-white/5 border border-white/10 px-3 py-2" />
    </div>
  </div>

  <div>
    <label for="message" class="block text-sm mb-1">Message *</label>
    <textarea id="message" name="message" required rows="5" class="w-full rounded-lg bg-white/5 border border-white/10 px-3 py-2"></textarea>
  </div>

  <div class="text-sm text-text-muted">{privacyNote}</div>

  <button type="submit" class="rounded-lg px-5 py-3 bg-[color:var(--accent)] text-black font-medium hover:opacity-90">Envoyer</button>

  <p aria-live="polite" class="sr-only">{successMessage}</p>
</form>
